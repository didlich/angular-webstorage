var webStorageModule=angular.module("webStorageModule",[]);webStorageModule.constant("defaultSettings",{prefix:"",order:["local","session","memory"],errorName:"webStorage.notification.error",testKey:"webStorage.test.key"}),webStorageModule.factory("webStorage",["$rootScope","defaultSettings",function(a,b){"use strict";function l(a,b){return console.warn(d),o(a,b)}function m(a,b){return console.warn(d),p(a,b)}function n(a,b){return console.warn(d),q(a,b)}function o(a,b){if(f){try{localStorage.setItem(i+a,JSON.stringify(b))}catch(c){return L(c)}return!0}return!1}function p(a,b){if(g){try{sessionStorage.setItem(i+a,JSON.stringify(b))}catch(c){return L(c)}return!0}return!1}function q(a,b){return j[a]=b,!0}function r(a){if(f)try{var b=localStorage.getItem(i+a);return b&&JSON.parse(b)}catch(c){return L(c),null}return null}function s(a){if(g)try{var b=sessionStorage.getItem(i+a);return b&&JSON.parse(b)}catch(c){return L(c),null}return null}function t(a){return a in j?j[a]:null}function u(a){return null!==r(a)}function v(a){return null!==s(a)}function w(a){return null!==t(a)}function x(a){return f?localStorage.key(a):null}function y(a){return g?sessionStorage.key(a):null}function z(a){var b=0;for(var c in j)if(j.hasOwnProperty(c)){if(a===b)return c;if(b+=1,b>a)return null}return null}function A(){return f?localStorage.length:0}function B(){return g?sessionStorage.length:0}function C(){if(Object.keys)return Object.keys(j).length;var a=0;for(var b in j)j.hasOwnProperty(b)&&(a+=1);return a}function D(a){if(f){try{localStorage.removeItem(i+a)}catch(b){return L(b)}return!0}return!1}function E(a){if(g){try{sessionStorage.removeItem(i+a)}catch(b){return L(b)}return!0}return!1}function F(a){return delete j[a],!0}function G(){if(!f)return!1;if(i){var a=i.length;try{for(var b in localStorage)b.substr(0,a)===i&&localStorage.removeItem(b)}catch(c){return L(c)}return!0}try{localStorage.clear()}catch(c){return L(c)}return!0}function H(){if(!g)return!1;if(i){var a=i.length;try{for(var b in sessionStorage)b.substr(0,a)===i&&sessionStorage.removeItem(b)}catch(c){return L(c)}return!0}try{sessionStorage.clear()}catch(c){return L(c)}return!0}function I(){return j={},!0}function J(){try{return localStorage.setItem(i+b.testKey,b.testKey),localStorage.removeItem(i+b.testKey),!0}catch(a){return!1}}function K(){try{return sessionStorage.setItem(i+b.testKey,b.testKey),sessionStorage.removeItem(i+b.testKey),!0}catch(a){return!1}}function L(b){return a.$broadcast(e,b.title+": "+b.message),!1}var c="undefined",d="angular-webstorage.js -- `add()` had been deprecated, use `set()` instead",e=b.errorName,f=J(),g=K(),h=b.order,i=b.prefix,j={},k={isSupported:f||g,local:{isSupported:f,add:l,set:o,get:r,has:u,key:x,length:A,remove:D,clear:G},session:{isSupported:g,add:m,set:p,get:s,has:v,key:y,length:B,remove:E,clear:H},memory:{isSupported:!0,add:n,set:q,get:t,has:w,key:z,length:C,remove:F,clear:I}};return k.add=function(a,b,c){return console.warn(d),k.set(a,b,c)},k.set=function(a,b,d){d=typeof d!==c?!!d:!1;for(var e=!1,f=h.length,g=0;f>g;++g){var i=k[h[g]];if(i.isSupported&&(e=i.set(a,b)||e,!d))return e}return e},k.get=function(a,b){b=typeof b!==c?!!b:!0;for(var d=h.length,e=0;d>e;++e){var f=k[h[e]];if(f.isSupported){var g=f.get(a);if(!b||null!==g)return g}}return null},k.has=function(a,b){return null!==k.get(a,b)},k.key=function(a,b){b=typeof b!==c?!!b:!0;for(var d=h.length,e=0;d>e;++e){var f=k[h[e]];if(f.isSupported){var g=f.key(a);if(!b||null!==g)return g}}return null},k.length=function(a){a=typeof a!==c?!!a:!0;for(var b=h.length,d=0;b>d;++d){var e=k[h[d]];if(e.isSupported){var f=e.length();if(!a||0!==f)return f}}return 0},k.remove=function(a,b){b=typeof b!==c?!!b:!0;for(var d=!1,e=h.length,f=0;e>f;++f){var g=k[h[f]];if(g.isSupported&&(d=g.remove(a)||d,!b))return d}return d},k.clear=function(a){a=typeof a!==c?!!a:!0;for(var b=!1,d=h.length,e=0;d>e;++e){var f=k[h[e]];if(f.isSupported&&(b=f.clear()||b,!a))return b}return b},k.errorName=function(a){var b=e;if(typeof a!==c){if("string"!=typeof a)return!1;e=a}return b},k.order=function(a){var b=angular.copy(h);if(typeof a!==c){h=[];for(var d in a)/^(local|session|memory)$/.test(a[d])&&h.push(a[d])}return b},k.prefix=function(a){var b=i;if(typeof a!==c){if("string"!=typeof a)return!1;i=a}return b},k}]);try{window.localStorage||(window.localStorage={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b){a&&(document.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(a){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length),window.sessionStorage||(window.sessionStorage={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b){a&&(document.cookie=escape(a)+"="+escape(b)+"; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(a){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.sessionStorage.length=(document.cookie.match(/\=/g)||window.sessionStorage).length)}catch(e){}